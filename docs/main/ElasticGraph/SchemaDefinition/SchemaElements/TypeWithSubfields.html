<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../ElasticGraph.html" title="ElasticGraph (module)">ElasticGraph</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../SchemaDefinition.html" title="ElasticGraph::SchemaDefinition (module)">SchemaDefinition</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../SchemaElements.html" title="ElasticGraph::SchemaDefinition::SchemaElements (module)">SchemaElements</a></span></span>
     &raquo; 
    <span class="title">TypeWithSubfields</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields
  <span class="abstract note title">Abstract</span>
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Struct</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Struct</li>
          
            <li class="next">ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="../Mixins/CanBeGraphQLOnly.html" title="ElasticGraph::SchemaDefinition::Mixins::CanBeGraphQLOnly (module)">Mixins::CanBeGraphQLOnly</a></span>, <span class='object_link'><a href="../Mixins/HasDerivedGraphQLTypeCustomizations.html" title="ElasticGraph::SchemaDefinition::Mixins::HasDerivedGraphQLTypeCustomizations (module)">Mixins::HasDerivedGraphQLTypeCustomizations</a></span>, <span class='object_link'><a href="../Mixins/HasDirectives.html" title="ElasticGraph::SchemaDefinition::Mixins::HasDirectives (module)">Mixins::HasDirectives</a></span>, <span class='object_link'><a href="../Mixins/HasDocumentation.html" title="ElasticGraph::SchemaDefinition::Mixins::HasDocumentation (module)">Mixins::HasDocumentation</a></span>, <span class='object_link'><a href="../Mixins/HasTypeInfo.html" title="ElasticGraph::SchemaDefinition::Mixins::HasTypeInfo (module)">Mixins::HasTypeInfo</a></span>, <span class='object_link'><a href="../Mixins/VerifiesGraphQLName.html" title="ElasticGraph::SchemaDefinition::Mixins::VerifiesGraphQLName (module)">Mixins::VerifiesGraphQLName</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>elasticgraph-schema_definition/lib/elastic_graph/schema_definition/schema_elements/type_with_subfields.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <div class="note abstract">
  <strong>This class is abstract.</strong>
  <div class='inline'>
</div>
</div>
<p>Defines common functionality for all GraphQL types that have subfields:</p>

<ul>
  <li><span class='object_link'>InputType</span></li>
  <li><span class='object_link'><a href="InterfaceType.html" title="ElasticGraph::SchemaDefinition::SchemaElements::InterfaceType (class)">InterfaceType</a></span></li>
  <li><span class='object_link'><a href="ObjectType.html" title="ElasticGraph::SchemaDefinition::SchemaElements::ObjectType (class)">ObjectType</a></span></li>
</ul>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="InterfaceType.html" title="ElasticGraph::SchemaDefinition::SchemaElements::InterfaceType (class)">InterfaceType</a></span>, <span class='object_link'><a href="ObjectType.html" title="ElasticGraph::SchemaDefinition::SchemaElements::ObjectType (class)">ObjectType</a></span></p>
</div>



  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="../Mixins/HasTypeInfo.html" title="ElasticGraph::SchemaDefinition::Mixins::HasTypeInfo (module)">Mixins::HasTypeInfo</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Mixins/HasTypeInfo.html#CUSTOMIZABLE_DATASTORE_PARAMS-constant" title="ElasticGraph::SchemaDefinition::Mixins::HasTypeInfo::CUSTOMIZABLE_DATASTORE_PARAMS (constant)">Mixins::HasTypeInfo::CUSTOMIZABLE_DATASTORE_PARAMS</a></span></p>




  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="../Mixins/HasDocumentation.html" title="ElasticGraph::SchemaDefinition::Mixins::HasDocumentation (module)">Mixins::HasDocumentation</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Mixins/HasDocumentation.html#doc_comment-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::HasDocumentation#doc_comment (method)">#doc_comment</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deleted_field-instance_method" title="#deleted_field (instance method)">#<strong>deleted_field</strong>(field_name)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Registers the name of a field that existed in a prior version of the schema but has been deleted.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#field-instance_method" title="#field (instance method)">#<strong>field</strong>(name, type, graphql_only: false, indexing_only: false, **options) {|Field| ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Defines a <a href="https://spec.graphql.org/October2021/#sec-Language.Fields">GraphQL field</a> on this type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The name of this GraphQL type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#paginated_collection_field-instance_method" title="#paginated_collection_field (instance method)">#<strong>paginated_collection_field</strong>(name, element_type, name_in_index: name, singular: nil) {|Field| ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>An alternative to <span class='object_link'><a href="#field-instance_method" title="ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields#field (method)">#field</a></span> for when you have a list field that you want exposed as a <a href="https://relay.dev/graphql/connections.htm">paginated Relay connection</a> rather than as a simple list.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#relates_to_many-instance_method" title="#relates_to_many (instance method)">#<strong>relates_to_many</strong>(field_name, type, via:, dir:, singular:) {|Relationship| ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Defines a “has many” relationship between the current indexed type and another indexed type by defining a pair of fields clients can use to navigate across indexed types in a single GraphQL query.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#relates_to_one-instance_method" title="#relates_to_one (instance method)">#<strong>relates_to_one</strong>(field_name, type, via:, dir:) {|Relationship| ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Defines a “has one” relationship between the current indexed type and another indexed type by defining a field clients can use to navigate across indexed types in a single GraphQL query.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#renamed_from-instance_method" title="#renamed_from (instance method)">#<strong>renamed_from</strong>(old_name)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Registers an old name that this type used to have in a prior version of the schema.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Mixins/HasTypeInfo.html" title="ElasticGraph::SchemaDefinition::Mixins::HasTypeInfo (module)">Mixins::HasTypeInfo</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Mixins/HasTypeInfo.html#json_schema-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::HasTypeInfo#json_schema (method)">#json_schema</a></span>, <span class='object_link'><a href="../Mixins/HasTypeInfo.html#json_schema_options-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::HasTypeInfo#json_schema_options (method)">#json_schema_options</a></span>, <span class='object_link'><a href="../Mixins/HasTypeInfo.html#mapping-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::HasTypeInfo#mapping (method)">#mapping</a></span>, <span class='object_link'><a href="../Mixins/HasTypeInfo.html#mapping_options-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::HasTypeInfo#mapping_options (method)">#mapping_options</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Mixins/HasDerivedGraphQLTypeCustomizations.html" title="ElasticGraph::SchemaDefinition::Mixins::HasDerivedGraphQLTypeCustomizations (module)">Mixins::HasDerivedGraphQLTypeCustomizations</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Mixins/HasDerivedGraphQLTypeCustomizations.html#customize_derived_type_fields-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::HasDerivedGraphQLTypeCustomizations#customize_derived_type_fields (method)">#customize_derived_type_fields</a></span>, <span class='object_link'><a href="../Mixins/HasDerivedGraphQLTypeCustomizations.html#customize_derived_types-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::HasDerivedGraphQLTypeCustomizations#customize_derived_types (method)">#customize_derived_types</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Mixins/HasDirectives.html" title="ElasticGraph::SchemaDefinition::Mixins::HasDirectives (module)">Mixins::HasDirectives</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Mixins/HasDirectives.html#directive-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::HasDirectives#directive (method)">#directive</a></span>, <span class='object_link'><a href="../Mixins/HasDirectives.html#directives-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::HasDirectives#directives (method)">#directives</a></span>, <span class='object_link'><a href="../Mixins/HasDirectives.html#directives_sdl-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::HasDirectives#directives_sdl (method)">#directives_sdl</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Mixins/HasDocumentation.html" title="ElasticGraph::SchemaDefinition::Mixins::HasDocumentation (module)">Mixins::HasDocumentation</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Mixins/HasDocumentation.html#append_to_documentation-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::HasDocumentation#append_to_documentation (method)">#append_to_documentation</a></span>, <span class='object_link'><a href="../Mixins/HasDocumentation.html#derived_documentation-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::HasDocumentation#derived_documentation (method)">#derived_documentation</a></span>, <span class='object_link'><a href="../Mixins/HasDocumentation.html#documentation-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::HasDocumentation#documentation (method)">#documentation</a></span>, <span class='object_link'><a href="../Mixins/HasDocumentation.html#formatted_documentation-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::HasDocumentation#formatted_documentation (method)">#formatted_documentation</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Mixins/CanBeGraphQLOnly.html" title="ElasticGraph::SchemaDefinition::Mixins::CanBeGraphQLOnly (module)">Mixins::CanBeGraphQLOnly</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Mixins/CanBeGraphQLOnly.html#graphql_only-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::CanBeGraphQLOnly#graphql_only (method)">#graphql_only</a></span>, <span class='object_link'><a href="../Mixins/CanBeGraphQLOnly.html#graphql_only%3F-instance_method" title="ElasticGraph::SchemaDefinition::Mixins::CanBeGraphQLOnly#graphql_only? (method)">#graphql_only?</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Mixins/VerifiesGraphQLName.html" title="ElasticGraph::SchemaDefinition::Mixins::VerifiesGraphQLName (module)">Mixins::VerifiesGraphQLName</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Mixins/VerifiesGraphQLName.html#verify_name!-class_method" title="ElasticGraph::SchemaDefinition::Mixins::VerifiesGraphQLName.verify_name! (method)">verify_name!</a></span></p>

  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="deleted_field-instance_method">
  
    #<strong>deleted_field</strong>(field_name)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>In situations where this API applies, ElasticGraph will give you an error message indicating that you need to use this API
or <span class='object_link'><a href="Field.html#renamed_from-instance_method" title="ElasticGraph::SchemaDefinition::SchemaElements::Field#renamed_from (method)">Field#renamed_from</a></span>. Likewise, when ElasticGraph no longer needs to know about this, it’ll give you a warning indicating
the call to this method can be removed.</p>
</div>
  </div>

<p class="note returns_void">This method returns an undefined value.</p><p>Registers the name of a field that existed in a prior version of the schema but has been deleted.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'><p>Indicate that <code>Widget.description</code> has been deleted</p>
</div></h5>
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../../../ElasticGraph.html" title="ElasticGraph (module)">ElasticGraph</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define_schema'><span class='object_link'><a href="../../../ElasticGraph.html#define_schema-class_method" title="ElasticGraph.define_schema (method)">define_schema</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_object_type'>object_type</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Widget</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_deleted_field'>deleted_field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>field_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>name of field that used to exist but has been deleted</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240
241
242
243
244
245</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'elasticgraph-schema_definition/lib/elastic_graph/schema_definition/schema_elements/type_with_subfields.rb', line 238</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deleted_field'>deleted_field</span><span class='lparen'>(</span><span class='id identifier rubyid_field_name'>field_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_schema_def_state'>schema_def_state</span><span class='period'>.</span><span class='id identifier rubyid_register_deleted_field'>register_deleted_field</span><span class='lparen'>(</span>
    <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
    <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span>
    <span class='label'>defined_at:</span> <span class='id identifier rubyid_caller_locations'>caller_locations</span><span class='lparen'>(</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='comma'>,</span> <span class='comment'># : ::Thread::Backtrace::Location
</span>    <span class='label'>defined_via:</span> <span class='tstring'><span class='tstring_beg'>%(</span><span class='tstring_content'>type.deleted_field &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field_name'>field_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>)</span></span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="field-instance_method">
  
    #<strong>field</strong>(name, type, graphql_only: false, indexing_only: false, **options) {|Field| ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>Be careful about defining non-nullable fields. Changing a field’s type from non-nullable (e.g. <code>Int!</code>) to nullable (e.g.
<code>Int</code>) is a breaking change for clients. Making a field non-nullable may also prevent you from applying permissioning to a field
via an AuthZ layer (as such a layer would have no way to force a field value to <code>null</code> when for a client denied field access).
Therefore, we recommend limiting your use of <code>!</code> to only a few situations such as defining a type’s primary key (e.g.
<code>t.field "id", "ID!"</code>) or defining a list field (e.g. <code>t.field "authors", "[String!]!"</code>) since empty lists already provide a
“no data” representation. You can still configure the ElasticGraph indexer to require a non-null value for a field using
<code>f.json_schema nullable: false</code>.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>ElasticGraph’s understanding of datastore capabilities may override your configured
<code>aggregatable</code>/<code>filterable</code>/<code>groupable</code>/<code>sortable</code> options. For example, a field indexed as <code>text</code> for full text search will
not be sortable or groupable even if you pass <code>sortable: true, groupable: true</code> when defining the field, because <a href="https://www.elastic.co/guide/en/elasticsearch/reference/8.15/text.html#text">text fields
cannot be efficiently sorted by or grouped on</a>.</p>
</div>
  </div>

<p class="note returns_void">This method returns an undefined value.</p><p>Defines a <a href="https://spec.graphql.org/October2021/#sec-Language.Fields">GraphQL field</a> on this type.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'><p>Define a field with documentation</p>
</div></h5>
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../../../ElasticGraph.html" title="ElasticGraph (module)">ElasticGraph</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define_schema'><span class='object_link'><a href="../../../ElasticGraph.html#define_schema-class_method" title="ElasticGraph.define_schema (method)">define_schema</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_object_type'>object_type</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Campaign</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_documentation'>documentation</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The Campaign&#39;s identifier.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
      
        <h5 class="example_title"><div class='inline'><p>Omit a new field from the GraphQL schema until its data has been backfilled</p>
</div></h5>
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../../../ElasticGraph.html" title="ElasticGraph (module)">ElasticGraph</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define_schema'><span class='object_link'><a href="../../../ElasticGraph.html#define_schema-class_method" title="ElasticGraph.define_schema (method)">define_schema</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_object_type'>object_type</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Campaign</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span>

    <span class='comment'># TODO: remove `indexing_only: true` once the data for this field has been fully backfilled
</span>    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>endDate</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Date</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>indexing_only:</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
      
        <h5 class="example_title"><div class='inline'><p>Use <code>graphql_only</code> to introduce a new name for an existing field</p>
</div></h5>
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../../../ElasticGraph.html" title="ElasticGraph (module)">ElasticGraph</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define_schema'><span class='object_link'><a href="../../../ElasticGraph.html#define_schema-class_method" title="ElasticGraph.define_schema (method)">define_schema</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_object_type'>object_type</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Campaign</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>endOn</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Date</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_directive'>directive</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>deprecated</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>reason:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Use `endDate` instead.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='comment'># We&#39;ve decided we want to call the field `endDate` instead of `endOn`, but the data
</span>    <span class='comment'># for this field is currently indexed in `endOn`, so we can use `graphql_only` and
</span>    <span class='comment'># `name_in_index` to expose the existing data under a new field name.
</span>    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>endDate</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Date</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>name_in_index:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>endOn</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>graphql_only:</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>name of the field</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>type of the field as a <a href="https://spec.graphql.org/October2021/#sec-Type-References">type reference</a>. The named type must be
one of <span class='object_link'><a href="BuiltInTypes.html" title="ElasticGraph::SchemaDefinition::SchemaElements::BuiltInTypes (class)">ElasticGraph’s built-in types</a></span> or a type that has been defined in your schema.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>graphql_only</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>if <code>true</code>, ElasticGraph will define the field as a GraphQL field but omit it from the indexing
artifacts (<code>json_schemas.yaml</code> and <code>datastore_config.yaml</code>). This can be used along with <code>name_in_index</code> to support careful
schema evolution.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>indexing_only</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>if <code>true</code>, ElasticGraph will define the field for indexing (in the <code>json_schemas.yaml</code> and
<code>datastore_config.yaml</code> schema artifact) but will omit it from the GraphQL schema. This can be useful to begin indexing a field
before you expose it in GraphQL so that you can fully backfill it first.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a customizable set of options</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>**options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">name_in_index</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>the name of the field in the datastore index. Can be used to back a GraphQL field with a
differently named field in the index.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">singular</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>can be used on a list field (e.g. <code>t.field "tags", "[String!]!", singular: "tag"</code>) to tell
ElasticGraph what the singular form of a field’s name is. When provided, ElasticGraph will define a <code>groupedBy</code> field (using the
singular form) allowing clients to group by individual values from the field.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">aggregatable</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>force-enables or disables the ability for aggregation queries to aggregate over this field.
When not provided, ElasticGraph will infer field aggregatability based on the field’s GraphQL type and mapping type.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">filterable</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>force-enables or disables the ability for queries to filter by this field. When not provided,
ElasticGraph will infer field filterability based on the field’s GraphQL type and mapping type.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">groupable</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>force-enables or disables the ability for aggregation queries to group by this field. When
not provided, ElasticGraph will infer field groupability based on the field’s GraphQL type and mapping type.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">sortable</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>force-enables or disables the ability for queries to sort by this field. When not provided,
ElasticGraph will infer field sortability based on the field’s GraphQL type and mapping type.</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Field.html" title="ElasticGraph::SchemaDefinition::SchemaElements::Field (class)">Field</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the field for further customization</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#paginated_collection_field-instance_method" title="ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields#paginated_collection_field (method)">#paginated_collection_field</a></span></li>
    
      <li><span class='object_link'><a href="#relates_to_many-instance_method" title="ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields#relates_to_many (method)">#relates_to_many</a></span></li>
    
      <li><span class='object_link'><a href="#relates_to_one-instance_method" title="ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields#relates_to_one (method)">#relates_to_one</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'elasticgraph-schema_definition/lib/elastic_graph/schema_definition/schema_elements/type_with_subfields.rb', line 192</span>

<span class='kw'>def</span> <span class='id identifier rubyid_field'>field</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='label'>graphql_only:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>indexing_only:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_reserved_field_names'>reserved_field_names</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Errors</span><span class='op'>::</span><span class='const'>SchemaError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid field name: `</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>`. `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>` is reserved for use by </span><span class='tstring_end'>&quot;</span></span> \
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ElasticGraph as a filtering operator. To use it for a field name, add </span><span class='tstring_end'>&quot;</span></span> \
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the `schema_element_name_overrides` option (on `ElasticGraph::SchemaDefinition::RakeTasks.new`) to </span><span class='tstring_end'>&quot;</span></span> \
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>configure an alternate name for the `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>` operator.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='label'>name_in_index:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_graphql_only'>graphql_only</span>

  <span class='id identifier rubyid_field_factory'>field_factory</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span>
    <span class='label'>name:</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
    <span class='label'>type:</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span>
    <span class='label'>graphql_only:</span> <span class='id identifier rubyid_graphql_only'>graphql_only</span><span class='comma'>,</span>
    <span class='label'>parent_type:</span> <span class='id identifier rubyid_wrapping_type'>wrapping_type</span><span class='comma'>,</span>
    <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>
  <span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='op'>|</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_field'>field</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_indexing_only'>indexing_only</span>
      <span class='id identifier rubyid_register_field'>register_field</span><span class='lparen'>(</span><span class='id identifier rubyid_field'>field</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_graphql_fields_by_name'>graphql_fields_by_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GraphQL</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:indexing_only</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_graphql_only'>graphql_only</span>
      <span class='id identifier rubyid_register_field'>register_field</span><span class='lparen'>(</span><span class='id identifier rubyid_field'>field</span><span class='period'>.</span><span class='id identifier rubyid_name_in_index'>name_in_index</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_indexing_fields_by_name_in_index'>indexing_fields_by_name_in_index</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>indexing</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:graphql_only</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
        <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_to_indexing_field_reference'>to_indexing_field_reference</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name-instance_method">
  
    #<strong>name</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the name of this GraphQL type.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the name of this GraphQL type</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


110
111
112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'elasticgraph-schema_definition/lib/elastic_graph/schema_definition/schema_elements/type_with_subfields.rb', line 110</span>

<span class='kw'>def</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_type_ref'>type_ref</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="paginated_collection_field-instance_method">
  
    #<strong>paginated_collection_field</strong>(name, element_type, name_in_index: name, singular: nil) {|Field| ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>Bear in mind that pagination does not have much efficiency benefit in this case: all elements of the collection will be
retrieved when fetching this field from the datastore. The pagination implementation will just trim down the collection before
returning it.</p>
</div>
  </div>

<p class="note returns_void">This method returns an undefined value.</p><p>An alternative to <span class='object_link'><a href="#field-instance_method" title="ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields#field (method)">#field</a></span> for when you have a list field that you want exposed as a <a href="https://relay.dev/graphql/connections.htm">paginated Relay
connection</a> rather than as a simple list.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'><p>Define <code>Author.books</code> as a paginated collection field</p>
</div></h5>
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../../../ElasticGraph.html" title="ElasticGraph (module)">ElasticGraph</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define_schema'><span class='object_link'><a href="../../../ElasticGraph.html#define_schema-class_method" title="ElasticGraph.define_schema (method)">define_schema</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_object_type'>object_type</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Author</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>String</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_paginated_collection_field'>paginated_collection_field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>books</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>String</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>authors</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>name of the field</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>element_type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>name of the type of element in the collection</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>name_in_index</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>name</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>the name of the field in the datastore index. Can be used to back a GraphQL field with a
differently named field in the index.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>singular</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>indicates what the singular form of a field’s name is. When provided, ElasticGraph will define a
<code>groupedBy</code> field (using the singular form) allowing clients to group by individual values from the field.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Field.html" title="ElasticGraph::SchemaDefinition::SchemaElements::Field (class)">Field</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the field for further customization</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#field-instance_method" title="ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields#field (method)">#field</a></span></li>
    
      <li><span class='object_link'><a href="#relates_to_many-instance_method" title="ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields#relates_to_many (method)">#relates_to_many</a></span></li>
    
      <li><span class='object_link'><a href="#relates_to_one-instance_method" title="ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields#relates_to_one (method)">#relates_to_one</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'elasticgraph-schema_definition/lib/elastic_graph/schema_definition/schema_elements/type_with_subfields.rb', line 300</span>

<span class='kw'>def</span> <span class='id identifier rubyid_paginated_collection_field'>paginated_collection_field</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_element_type'>element_type</span><span class='comma'>,</span> <span class='label'>name_in_index:</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>singular:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_element_type_ref'>element_type_ref</span> <span class='op'>=</span> <span class='id identifier rubyid_schema_def_state'>schema_def_state</span><span class='period'>.</span><span class='id identifier rubyid_type_ref'>type_ref</span><span class='lparen'>(</span><span class='id identifier rubyid_element_type'>element_type</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_final_form'>to_final_form</span>
  <span class='id identifier rubyid_element_type'>element_type</span> <span class='op'>=</span> <span class='id identifier rubyid_element_type_ref'>element_type_ref</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>

  <span class='id identifier rubyid_schema_def_state'>schema_def_state</span><span class='period'>.</span><span class='id identifier rubyid_paginated_collection_element_types'>paginated_collection_element_types</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_element_type'>element_type</span>

  <span class='id identifier rubyid_backing_indexing_field'>backing_indexing_field</span> <span class='op'>=</span> <span class='id identifier rubyid_field'>field</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_element_type'>element_type</span><span class='embexpr_end'>}</span><span class='tstring_content'>!]!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>indexing_only:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>name_in_index:</span> <span class='id identifier rubyid_name_in_index'>name_in_index</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_field'>field</span><span class='lparen'>(</span>
    <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
    <span class='id identifier rubyid_element_type_ref'>element_type_ref</span><span class='period'>.</span><span class='id identifier rubyid_as_connection'>as_connection</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
    <span class='label'>name_in_index:</span> <span class='id identifier rubyid_name_in_index'>name_in_index</span><span class='comma'>,</span>
    <span class='label'>type_for_derived_types:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_element_type'>element_type</span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>groupable:</span> <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_singular'>singular</span><span class='comma'>,</span>
    <span class='label'>sortable:</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='label'>graphql_only:</span> <span class='kw'>true</span><span class='comma'>,</span>
    <span class='label'>singular:</span> <span class='id identifier rubyid_singular'>singular</span><span class='comma'>,</span>
    <span class='label'>backing_indexing_field:</span> <span class='id identifier rubyid_backing_indexing_field'>backing_indexing_field</span>
  <span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_define_relay_pagination_arguments!'>define_relay_pagination_arguments!</span>
    <span class='id identifier rubyid_block'>block</span><span class='op'>&amp;.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="relates_to_many-instance_method">
  
    #<strong>relates_to_many</strong>(field_name, type, via:, dir:, singular:) {|Relationship| ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Defines a “has many” relationship between the current indexed type and another indexed type by defining a pair of fields clients
can use to navigate across indexed types in a single GraphQL query. The pair of generated fields will be <a href="https://relay.dev/graphql/connections.htm#sec-Connection-Types">Relay Connection
types</a> allowing you to filter, sort, paginate, and aggregated the
related data.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'><p>Use <code>relates_to_many</code> to define <code>Team.players</code> and <code>Team.playerAggregations</code></p>
</div></h5>
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../../../ElasticGraph.html" title="ElasticGraph (module)">ElasticGraph</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define_schema'><span class='object_link'><a href="../../../ElasticGraph.html#define_schema-class_method" title="ElasticGraph.define_schema (method)">define_schema</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_object_type'>object_type</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Team</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>String</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homeCity</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>String</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_relates_to_many'>relates_to_many</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>players</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Player</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>via:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>teamId</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>dir:</span> <span class='symbol'>:in</span><span class='comma'>,</span> <span class='label'>singular:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>player</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>teams</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_object_type'>object_type</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Player</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>String</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>teamId</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>players</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>field_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>name of the relationship field</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>name of the related type</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>via</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>name of the foreign key field</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>dir</span>
      
      
        <span class='type'>(<tt>:in</tt>, <tt>:out</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>direction of the foreign key. Use <code>:in</code> for an inbound foreign key that resides on the related type and
references the <code>id</code> of this type. Use <code>:out</code> for an outbound foreign key that resides on this type  and references the <code>id</code> of
the related type.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>singular</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>singular form of the <code>field_name</code>; will be used (along with an <code>Aggregations</code> suffix) for the name of
the generated aggregations field</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Relationship.html" title="ElasticGraph::SchemaDefinition::SchemaElements::Relationship (class)">Relationship</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the generated relationship fields, for further customization</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#field-instance_method" title="ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields#field (method)">#field</a></span></li>
    
      <li><span class='object_link'><a href="#paginated_collection_field-instance_method" title="ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields#paginated_collection_field (method)">#paginated_collection_field</a></span></li>
    
      <li><span class='object_link'><a href="#relates_to_one-instance_method" title="ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields#relates_to_one (method)">#relates_to_one</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'elasticgraph-schema_definition/lib/elastic_graph/schema_definition/schema_elements/type_with_subfields.rb', line 397</span>

<span class='kw'>def</span> <span class='id identifier rubyid_relates_to_many'>relates_to_many</span><span class='lparen'>(</span><span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='label'>via:</span><span class='comma'>,</span> <span class='label'>dir:</span><span class='comma'>,</span> <span class='label'>singular:</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_foreign_key_type'>foreign_key_type</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span> <span class='op'>==</span> <span class='symbol'>:out</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[ID!]!</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_type_ref'>type_ref</span> <span class='op'>=</span> <span class='id identifier rubyid_schema_def_state'>schema_def_state</span><span class='period'>.</span><span class='id identifier rubyid_type_ref'>type_ref</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_final_form'>to_final_form</span>

  <span class='id identifier rubyid_relates_to'>relates_to</span><span class='lparen'>(</span><span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='id identifier rubyid_type_ref'>type_ref</span><span class='period'>.</span><span class='id identifier rubyid_as_connection'>as_connection</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>via:</span> <span class='id identifier rubyid_via'>via</span><span class='comma'>,</span> <span class='label'>dir:</span> <span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='label'>foreign_key_type:</span> <span class='id identifier rubyid_foreign_key_type'>foreign_key_type</span><span class='comma'>,</span> <span class='label'>cardinality:</span> <span class='symbol'>:many</span><span class='comma'>,</span> <span class='label'>related_type:</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_argument'>argument</span> <span class='id identifier rubyid_schema_def_state'>schema_def_state</span><span class='period'>.</span><span class='id identifier rubyid_schema_elements'>schema_elements</span><span class='period'>.</span><span class='id identifier rubyid_filter'>filter</span><span class='comma'>,</span> <span class='id identifier rubyid_type_ref'>type_ref</span><span class='period'>.</span><span class='id identifier rubyid_as_filter_input'>as_filter_input</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span>
      <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_documentation'>documentation</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Used to filter the returned `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field_name'>field_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>` based on the provided criteria.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_argument'>argument</span> <span class='id identifier rubyid_schema_def_state'>schema_def_state</span><span class='period'>.</span><span class='id identifier rubyid_schema_elements'>schema_elements</span><span class='period'>.</span><span class='id identifier rubyid_order_by'>order_by</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type_ref'>type_ref</span><span class='period'>.</span><span class='id identifier rubyid_as_sort_order'>as_sort_order</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>!]</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span>
      <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_documentation'>documentation</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Used to specify how the returned `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field_name'>field_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>` should be sorted.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_define_relay_pagination_arguments!'>define_relay_pagination_arguments!</span>

    <span class='kw'>yield</span> <span class='id identifier rubyid_f'>f</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_aggregations_name'>aggregations_name</span> <span class='op'>=</span> <span class='id identifier rubyid_schema_def_state'>schema_def_state</span><span class='period'>.</span><span class='id identifier rubyid_schema_elements'>schema_elements</span><span class='period'>.</span><span class='id identifier rubyid_normalize_case'>normalize_case</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_singular'>singular</span><span class='embexpr_end'>}</span><span class='tstring_content'>_aggregations</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_relates_to'>relates_to</span><span class='lparen'>(</span><span class='id identifier rubyid_aggregations_name'>aggregations_name</span><span class='comma'>,</span> <span class='id identifier rubyid_type_ref'>type_ref</span><span class='period'>.</span><span class='id identifier rubyid_as_aggregation'>as_aggregation</span><span class='period'>.</span><span class='id identifier rubyid_as_connection'>as_connection</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>via:</span> <span class='id identifier rubyid_via'>via</span><span class='comma'>,</span> <span class='label'>dir:</span> <span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='label'>foreign_key_type:</span> <span class='id identifier rubyid_foreign_key_type'>foreign_key_type</span><span class='comma'>,</span> <span class='label'>cardinality:</span> <span class='symbol'>:many</span><span class='comma'>,</span> <span class='label'>related_type:</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_argument'>argument</span> <span class='id identifier rubyid_schema_def_state'>schema_def_state</span><span class='period'>.</span><span class='id identifier rubyid_schema_elements'>schema_elements</span><span class='period'>.</span><span class='id identifier rubyid_filter'>filter</span><span class='comma'>,</span> <span class='id identifier rubyid_type_ref'>type_ref</span><span class='period'>.</span><span class='id identifier rubyid_as_filter_input'>as_filter_input</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span>
      <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_documentation'>documentation</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Used to filter the `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>` documents that get aggregated over based on the provided criteria.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_define_relay_pagination_arguments!'>define_relay_pagination_arguments!</span>

    <span class='kw'>yield</span> <span class='id identifier rubyid_f'>f</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_documentation'>documentation</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_derived_documentation'>derived_documentation</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Aggregations over the `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field_name'>field_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>` data</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="relates_to_one-instance_method">
  
    #<strong>relates_to_one</strong>(field_name, type, via:, dir:) {|Relationship| ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Defines a “has one” relationship between the current indexed type and another indexed type by defining a field clients
can use to navigate across indexed types in a single GraphQL query.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'><p>Use <code>relates_to_one</code> to define <code>Player.team</code></p>
</div></h5>
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../../../ElasticGraph.html" title="ElasticGraph (module)">ElasticGraph</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define_schema'><span class='object_link'><a href="../../../ElasticGraph.html#define_schema-class_method" title="ElasticGraph.define_schema (method)">define_schema</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_object_type'>object_type</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Team</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>String</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homeCity</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>String</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>teams</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_object_type'>object_type</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Player</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_field'>field</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>String</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_relates_to_one'>relates_to_one</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>team</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Team</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>via:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>teamId</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>dir:</span> <span class='symbol'>:out</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>players</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>field_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>name of the relationship field</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>name of the related type</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>via</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>name of the foreign key field</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>dir</span>
      
      
        <span class='type'>(<tt>:in</tt>, <tt>:out</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>direction of the foreign key. Use <code>:in</code> for an inbound foreign key that resides on the related type and
references the <code>id</code> of this type. Use <code>:out</code> for an outbound foreign key that resides on this type  and references the <code>id</code> of
the related type.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Relationship.html" title="ElasticGraph::SchemaDefinition::SchemaElements::Relationship (class)">Relationship</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the generated relationship fields, for further customization</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#field-instance_method" title="ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields#field (method)">#field</a></span></li>
    
      <li><span class='object_link'><a href="#relates_to_many-instance_method" title="ElasticGraph::SchemaDefinition::SchemaElements::TypeWithSubfields#relates_to_many (method)">#relates_to_many</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


355
356
357
358</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'elasticgraph-schema_definition/lib/elastic_graph/schema_definition/schema_elements/type_with_subfields.rb', line 355</span>

<span class='kw'>def</span> <span class='id identifier rubyid_relates_to_one'>relates_to_one</span><span class='lparen'>(</span><span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='label'>via:</span><span class='comma'>,</span> <span class='label'>dir:</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_foreign_key_type'>foreign_key_type</span> <span class='op'>=</span> <span class='id identifier rubyid_schema_def_state'>schema_def_state</span><span class='period'>.</span><span class='id identifier rubyid_type_ref'>type_ref</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_non_null?'>non_null?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID!</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_relates_to'>relates_to</span><span class='lparen'>(</span><span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='label'>via:</span> <span class='id identifier rubyid_via'>via</span><span class='comma'>,</span> <span class='label'>dir:</span> <span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='label'>foreign_key_type:</span> <span class='id identifier rubyid_foreign_key_type'>foreign_key_type</span><span class='comma'>,</span> <span class='label'>cardinality:</span> <span class='symbol'>:one</span><span class='comma'>,</span> <span class='label'>related_type:</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="renamed_from-instance_method">
  
    #<strong>renamed_from</strong>(old_name)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>In situations where this API applies, ElasticGraph will give you an error message indicating that you need to use this API
or <span class='object_link'><a href="../API.html#deleted_type-instance_method" title="ElasticGraph::SchemaDefinition::API#deleted_type (method)">API#deleted_type</a></span>. Likewise, when ElasticGraph no longer needs to know about this, it’ll give you a warning indicating
the call to this method can be removed.</p>
</div>
  </div>

<p class="note returns_void">This method returns an undefined value.</p><p>Registers an old name that this type used to have in a prior version of the schema.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'><p>Indicate that <code>Widget</code> used to be called <code>Component</code>.</p>
</div></h5>
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../../../ElasticGraph.html" title="ElasticGraph (module)">ElasticGraph</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define_schema'><span class='object_link'><a href="../../../ElasticGraph.html#define_schema-class_method" title="ElasticGraph.define_schema (method)">define_schema</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_object_type'>object_type</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Widget</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_renamed_from'>renamed_from</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Component</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>old_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>old name this field used to have in a prior version of the schema</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


262
263
264
265
266
267
268
269</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'elasticgraph-schema_definition/lib/elastic_graph/schema_definition/schema_elements/type_with_subfields.rb', line 262</span>

<span class='kw'>def</span> <span class='id identifier rubyid_renamed_from'>renamed_from</span><span class='lparen'>(</span><span class='id identifier rubyid_old_name'>old_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_schema_def_state'>schema_def_state</span><span class='period'>.</span><span class='id identifier rubyid_register_renamed_type'>register_renamed_type</span><span class='lparen'>(</span>
    <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
    <span class='label'>from:</span> <span class='id identifier rubyid_old_name'>old_name</span><span class='comma'>,</span>
    <span class='label'>defined_at:</span> <span class='id identifier rubyid_caller_locations'>caller_locations</span><span class='lparen'>(</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='comma'>,</span> <span class='comment'># : ::Thread::Backtrace::Location
</span>    <span class='label'>defined_via:</span> <span class='tstring'><span class='tstring_beg'>%(</span><span class='tstring_content'>type.renamed_from &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_name'>old_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>)</span></span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Nov 12 20:15:49 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.3.6).
</div>

    </div>
  </body>
</html>